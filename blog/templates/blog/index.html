{% extends 'blog/basic.html' %}
   {% block title %} Shopping Cart Blog {% endblock %}
  {% block body %}
   <div class="container-fluid my-4"><div class="row mb-2 ">
        {% for item in myposts %}
       <div class="col-md-6 my-2">
           <div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
               <div class="col p-4 d-flex flex-column position-static">
                   <strong class="d-inline-block mb-2 text-primary">{{item.title}}</strong>
                   <h3 class="mb-0">{{item.head0}}</h3>
                   <div class="mb-1 text-muted">{{item.pub_date}}</div>
                   <p class="card-text mb-auto">{{item.chead0}}</p>
                   <a href="blogpost/{{item.post_id}}" class="stretched-link">Continue reading</a>
               </div>
               <div class="col-auto d-none d-lg-block">
                   <img src="/media/{{item.thumbnail}}" class="bd-placeholder-img img-responsive" width="500" height="250" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false">
                   <rect width="100%" height="100%" fill="#55595c"></rect><text x="50%" y="50%" fill="#eceeef" dy=".3em"></text></img>
               </div>
           </div>
       </div>
       {% if forloop.counter|divisibleby:2 %}
   </div>
       <div class="row mb-2">
           {% endif %}
           {% endfor %}
       </div>
   </div>







    {% endblock %}

{%block js %}
<script>

if(localStorage.getItem('cart') == null){
var cart = {};
}
else
{
cart = JSON.parse(localStorage.getItem('cart'));
document.getElementById('cart').innerHTML = Object.keys(cart).length;
}

var popover = new bootstrap.Popover(document.querySelector('#popcart'),{
container: 'body'
})

$('.cart').click(function(){
console.log('clicked');
var idstr = this.id.toString();
console.log(idstr);
if (cart[idstr] !=undefined){
cart[idstr] = cart[idstr] + 1;
}
else
{
cart[idstr] = 1;
}
console.log(cart);
localStorage.setItem('cart', JSON.stringify(cart));
document.getElementById('cart').innerHTML = Object.keys(cart).length;
});

$('#popcart').show();
document.getElementById('popcart').setAttribute('data-bs-content','<h5>Here is your Cart</h5>');



</script>
{% endblock %}